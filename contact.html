<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | ClearAxis Analytics</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<header class="site-header">
  <div class="container nav">
    <div class="brand">
      <img src="assets/branding/logo.png" alt="ClearAxis Analytics Logo" class="logo">
    </div>
    <nav>
      <a href="index.html" class="nav-link">Home</a>
      <a href="services.html" class="nav-link">Services</a>
      <a href="case-studies.html" class="nav-link">Case Studies</a>
      <a href="about.html" class="nav-link">About</a>
      <a href="contact.html" class="btn btn-primary nav-cta active">Contact</a>
    </nav>
  </div>
</header>

<main class="section section-intro">
  <div class="container narrow">
    <div class="contact-hero">
      <div class="contact-hero-text">
        <h1>Contact ClearAxis</h1>
        <p class="lead">
          Share a few details and we’ll follow up with a clear plan to clean,
          analyze, or automate your data.
        </p>
      </div>
    </div>
  </div>
</main>

<section class="section">
  <div class="container contact-grid">

    <div class="contact-form-card">
      <h2>Send a message</h2>

      <form class="contact-form" id="contact-form" novalidate>

        <div class="form-row">
          <label class="form-field">
            <input type="text" name="name" placeholder="Your name" required />
          </label>

          <label class="form-field">
            <input type="email" name="email" placeholder="Email address" required />
          </label>
        </div>

        <label class="form-field">
          <input type="text" name="company" placeholder="Company (optional)" />
        </label>

        <label class="form-field">
          <textarea name="message" id="messageBox"
            rows="6"
            placeholder="Briefly describe your needs"
            maxlength="500"
            required></textarea>
          <span class="char-counter">0 / 500</span>
        </label>

        <div class="form-row form-actions">
          <button class="btn btn-primary" type="submit">
            Send Message
          </button>
        </div>

      </form>
    </div>

    <aside class="contact-info">

      <div class="info-card">
        <h3>Our approach</h3>
        <p>
          ClearAxis combines structured KPI frameworks with practical automation
          and decision-focused reporting systems.
        </p>
      </div>

      <div class="info-card">
        <h3>Hours</h3>
        <p>Mon–Fri, 8:00–19:00 (EST)</p>
      </div>

      <div class="info-card">
        <h3>Email</h3>
        <p>
          <a href="mailto:contact@clearaxisanalytics.com">
            contact@clearaxisanalytics.com
          </a>
        </p>
      </div>

    </aside>

  </div>
</section>

<footer class="site-footer">
  <div class="container">
    <p>© 2026 ClearAxis Analytics</p>
  </div>
</footer>

<script>
const form = document.getElementById("contact-form");
const nameInput = form.querySelector('input[name="name"]');
const emailInput = form.querySelector('input[name="email"]');
const messageInput = document.getElementById("messageBox");
const counter = document.querySelector(".char-counter");

function showError(input, message) {
  input.classList.add("input-error");
  const error = document.createElement("span");
  error.className = "field-error-text";
  error.innerText = message;
  input.parentElement.appendChild(error);
}

function clearErrors() {
  document.querySelectorAll(".field-error-text").forEach(el => el.remove());
  document.querySelectorAll(".input-error").forEach(el => el.classList.remove("input-error"));
}

messageInput.addEventListener("input", function() {
  counter.textContent = messageInput.value.length + " / 500";
});

form.addEventListener("submit", async function(e) {
  e.preventDefault();
  clearErrors();

  let valid = true;

  if (!nameInput.value.trim()) {
    showError(nameInput, "Name is required.");
    valid = false;
  }

  if (!emailInput.value.trim()) {
    showError(emailInput, "Email is required.");
    valid = false;
  }

  if (!messageInput.value.trim()) {
    showError(messageInput, "Please describe your needs.");
    valid = false;
  }

  if (!valid) return;

  const formData = {
    name: nameInput.value,
    email: emailInput.value,
    company: document.querySelector('input[name="company"]').value,
    message: messageInput.value
  };

  try {
    const response = await fetch("https://script.google.com/macros/s/AKfycbzjC6l9mcuq9nB9FUQ62MBB-DM_0fIRmeiE0KO1cB2PFB1NVId-2AJ5-GCT1r9W5GSc/exec", {
      method: "POST",
      body: JSON.stringify(formData)
    });

    const text = await response.text();
    alert(text);

  } catch (error) {
    alert("Network error. Please try again.");
  }
});
</script>

</body>
</html>